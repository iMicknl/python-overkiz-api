# Getting started

This guide will help you install the library, connect to your hub, and perform your first actions.

## Prerequisites

- Python 3.10+
- An OverKiz-compatible hub and account

## Install pyOverkiz from PyPI

### With UV <small>recommended</small>

```bash
uv add pyoverkiz
```

### With pip

```bash
pip install pyoverkiz
```

## Choose your server

Use a cloud server when you want to connect through the vendorâ€™s public API. Use a local server when you want LAN access to a gateway.

- Cloud servers use the `Server` enum.
- Local servers use `create_local_server_config` with a hostname or IP address.

## Authentication

=== "Somfy (cloud)"

    Cloud authentication uses a vendor server from `Server` plus `UsernamePasswordCredentials`.

    ```python
    import asyncio

    from pyoverkiz.auth.credentials import UsernamePasswordCredentials
    from pyoverkiz.client import OverkizClient
    from pyoverkiz.enums import Server


    async def main() -> None:
        async with OverkizClient(
            server=Server.SOMFY_EUROPE,
            credentials=UsernamePasswordCredentials("you@example.com", "password"),
        ) as client:
            await client.login()

    asyncio.run(main())
    ```

=== "Somfy (local)"

    Local authentication requires a token generated by the official mobile app and a local user on the OverKiz API platform.

    ```python
    import asyncio

    from pyoverkiz.auth.credentials import LocalTokenCredentials
    from pyoverkiz.client import OverkizClient
    from pyoverkiz.utils import create_local_server_config


    async def main() -> None:
        async with OverkizClient(
            server=create_local_server_config(host="gateway-xxxx.local"),
            credentials=LocalTokenCredentials("local-token"),
            verify_ssl=True, # disable if you connect via IP
        ) as client:
            await client.login()

    asyncio.run(main())
    ```

=== "Cozytouch (cloud)"

    ```python
    import asyncio

    from pyoverkiz.auth.credentials import UsernamePasswordCredentials
    from pyoverkiz.client import OverkizClient
    from pyoverkiz.enums import Server


    async def main() -> None:
        async with OverkizClient(
            server=Server.SOMFY_EUROPE,
            credentials=UsernamePasswordCredentials("you@example.com", "password"),
        ) as client:
            await client.login()

    asyncio.run(main())
    ```

=== "Rexel (cloud)"

    ```python
    import asyncio

    from pyoverkiz.auth.credentials import UsernamePasswordCredentials
    from pyoverkiz.client import OverkizClient
    from pyoverkiz.enums import Server

    async def main() -> None:
        async with OverkizClient(
            server=Server.SOMFY_EUROPE,
            credentials=UsernamePasswordCredentials("you@example.com", "password"),
        ) as client:
            await client.login()

    asyncio.run(main())
    ```
